import './polyfills.server.mjs';
import{a as C}from"./chunk-OCGS2YLL.mjs";import{a as _,b as V,c as q,e as y,i as E,j as $,k as U,l as x,m as z,s as D,t as Z}from"./chunk-FNZ44W3H.mjs";import"./chunk-JLDADGY6.mjs";import{n as w,p as I}from"./chunk-37ZXOBOB.mjs";import{Db as r,Kb as f,P as v,Ta as c,U as b,Ua as u,aa as M,ba as S,cb as p,ea as k,fa as T,h,hb as A,mb as e,nb as n,ob as g,rb as F,vb as s,xb as j,xc as P,zc as L}from"./chunk-ZHHFWGG7.mjs";import"./chunk-KRLCULJA.mjs";var W=()=>({standalone:!0}),G=(()=>{let i=class i{constructor(l,o,t,m){this.router=l,this.dataService=o,this.toastr=t,this.commonservice=m,this.name="",this.email="",this.mobileNo="",this.password="",this.destroyed$=new h(1)}ngOnInit(){}submitForm(){let l={name:this.name,mobileNo:this.mobileNo,email:this.email,password:this.password},o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(l.email=="")return this.toastr.error("Please enter your Email."),!1;if(o.test(l.email)){if(l.password=="")return this.toastr.error("Password should not be blank."),!1}else return this.toastr.error("Please enter a valid  email address.","Error"),!1;this.dataService.callApi(l,"login",!0).pipe(v(this.destroyed$)).subscribe(t=>{this.isLoading=!1,t.success?(t.data&&(localStorage.setItem("user",JSON.stringify(t.data)),this.toastr.success("Logged in Successfully!"),this.commonservice.emitUser(t.data)),t.data.userType=="P"?this.router.navigate(["/doctor/"+t.data.id]):t.data.userType=="D"):this.toastr.error("Error in registration")},t=>{let m=t.error;this.isLoading=!1,this.toastr.error(m.message)})}};i.\u0275fac=function(o){return new(o||i)(u(w),u(C),u(_),u(q))},i.\u0275cmp=M({type:i,selectors:[["app-signin"]],decls:47,vars:6,consts:[[1,"content","top-space"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"account-content"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-7","col-lg-6","login-left"],["src","assets/img/login-banner.png","alt","Doccure Login",1,"img-fluid"],[1,"col-md-12","col-lg-6","login-right"],[1,"login-header"],[1,"mb-3","form-focus"],["type","text","id","emailAddr","required","","autocomplete","new-emailAddr",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["emailAddr","ngModel"],[1,"focus-label"],["type","password","type","password","name","Password","id","password","autocomplete","new-password","required","",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["passWord","ngModel"],[1,"text-end"],["href","forgot-password.html",1,"forgot-link"],[1,"btn","btn-primary","w-100","btn-lg","login-btn",3,"click"],[1,"login-or"],[1,"or-line"],[1,"span-or"],[1,"row","social-login"],[1,"col-6"],["href","#",1,"btn","btn-facebook","w-100"],[1,"fab","fa-facebook-f","me-1"],["href","#",1,"btn","btn-google","w-100"],[1,"fab","fa-google","me-1"],[1,"text-center","dont-have"],["href","account/register"]],template:function(o,t){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),g(7,"img",7),n(),e(8,"div",8)(9,"div",9)(10,"h3"),r(11,"Login "),e(12,"span"),r(13,"Doccure"),n()()(),e(14,"form")(15,"div",10)(16,"input",11,12),s("ngModelChange",function(d){return t.email=d}),n(),e(18,"label",13),r(19,"Email"),n()(),e(20,"div",10)(21,"input",14,15),s("ngModelChange",function(d){return t.password=d}),n(),e(23,"label",13),r(24,"Create Password"),n()(),e(25,"div",16)(26,"a",17),r(27,"Forgot Password ?"),n()(),e(28,"button",18),s("click",function(){return t.submitForm()}),r(29,"Login"),n(),e(30,"div",19),g(31,"span",20),e(32,"span",21),r(33,"or"),n()(),e(34,"div",22)(35,"div",23)(36,"a",24),g(37,"i",25),r(38," Login"),n()(),e(39,"div",23)(40,"a",26),g(41,"i",27),r(42," Login"),n()()(),e(43,"div",28),r(44,"Don\u2019t have an account? "),e(45,"a",29),r(46,"Register"),n()()()()()()()()()()),o&2&&(c(16),p("ngModel",t.email)("ngModelOptions",f(4,W)),c(5),p("ngModel",t.password)("ngModelOptions",f(5,W)))},dependencies:[z,y,E,$,D,x,U]});let a=i;return a})();function Y(a,i){if(a&1){let R=F();e(0,"h3"),r(1,"Patient Register "),e(2,"a",33),s("click",function(){k(R);let o=j();return T(o.isDoctor=!0)}),r(3,"Are you a Doctor?"),n()()}}function ee(a,i){if(a&1){let R=F();e(0,"h3"),r(1,"Doctor Register "),e(2,"a",33),s("click",function(){k(R);let o=j();return T(o.isDoctor=!1)}),r(3,"Are you a Patient?"),n()()}}var N=()=>({standalone:!0}),J=(()=>{let i=class i{constructor(l,o,t){this.router=l,this.dataService=o,this.toastr=t,this.name="",this.mobileNo="",this.email="",this.password="",this.isDoctor=!1,this.destroyed$=new h(1)}ngOnInit(){}submitForm(){let l={name:this.name,mobileNo:this.mobileNo,email:this.email,password:this.password,userType:this.isDoctor?"D":"P"};this.dataService.callApi(l,"register",!0).pipe(v(this.destroyed$)).subscribe(o=>{this.isLoading=!1,o.success?this.router.navigate(["/login"]):this.toastr.error("Error in registration")},o=>{let t=o.error;this.toastr.error(t.message)})}};i.\u0275fac=function(o){return new(o||i)(u(w),u(C),u(_))},i.\u0275cmp=M({type:i,selectors:[["app-register"]],decls:50,vars:14,consts:[[1,"content","top-space"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"account-content"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-7","col-lg-6","login-left"],["src","assets/img/login-banner.png","alt","Doccure Register",1,"img-fluid"],[1,"col-md-12","col-lg-6","login-right"],[1,"login-header"],[4,"ngIf"],[1,"mb-3","form-focus"],["type","text","id","username","required","","autocomplete","new-username",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["userName","ngModel"],[1,"focus-label"],["type","text","id","phoneNo","required","","autocomplete","new-mobile",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["phoneNo","ngModel"],["type","text","id","emailAddr","required","","autocomplete","new-emailAddr",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["emailAddr","ngModel"],["type","password","type","password","name","Password","id","password","autocomplete","new-password","required","",1,"form-control","floating",3,"ngModel","ngModelOptions","ngModelChange"],["passWord","ngModel"],[1,"text-end"],["href","account/login",1,"forgot-link"],[1,"btn","btn-primary","w-100","btn-lg","login-btn",3,"click"],[1,"login-or"],[1,"or-line"],[1,"span-or"],[1,"row","social-login"],[1,"col-6"],["href","#",1,"btn","btn-facebook","w-100"],[1,"fab","fa-facebook-f","me-1"],["href","#",1,"btn","btn-google","w-100"],[1,"fab","fa-google","me-1"],["href","javascript:void(0)",3,"click"]],template:function(o,t){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),g(7,"img",7),n(),e(8,"div",8)(9,"div",9),A(10,Y,4,0,"h3",10)(11,ee,4,0,"h3",10),n(),e(12,"div",11)(13,"input",12,13),s("ngModelChange",function(d){return t.name=d}),n(),e(15,"label",14),r(16,"Username"),n()(),e(17,"div",11)(18,"input",15,16),s("ngModelChange",function(d){return t.mobileNo=d}),n(),e(20,"label",14),r(21,"Mobile Number"),n()(),e(22,"div",11)(23,"input",17,18),s("ngModelChange",function(d){return t.email=d}),n(),e(25,"label",14),r(26,"Email"),n()(),e(27,"div",11)(28,"input",19,20),s("ngModelChange",function(d){return t.password=d}),n(),e(30,"label",14),r(31,"Create Password"),n()(),e(32,"div",21)(33,"a",22),r(34,"Already have an account?"),n()(),e(35,"button",23),s("click",function(){return t.submitForm()}),r(36," Signup"),n(),e(37,"div",24),g(38,"span",25),e(39,"span",26),r(40,"or"),n()(),e(41,"div",27)(42,"div",28)(43,"a",29),g(44,"i",30),r(45," Login"),n()(),e(46,"div",28)(47,"a",31),g(48,"i",32),r(49," Login"),n()()()()()()()()()()),o&2&&(c(10),p("ngIf",!t.isDoctor),c(1),p("ngIf",t.isDoctor),c(2),p("ngModel",t.name)("ngModelOptions",f(10,N)),c(5),p("ngModel",t.mobileNo)("ngModelOptions",f(11,N)),c(5),p("ngModel",t.email)("ngModelOptions",f(12,N)),c(5),p("ngModel",t.password)("ngModelOptions",f(13,N)))},dependencies:[P,y,E,D,x]});let a=i;return a})();var te=[{path:"login",component:G},{path:"register",component:J}],B=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=S({type:i}),i.\u0275inj=b({imports:[I.forChild(te),I]});let a=i;return a})();var Ee=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=S({type:i}),i.\u0275inj=b({imports:[L,B,Z,V.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]});let a=i;return a})();export{Ee as AccountModule};
